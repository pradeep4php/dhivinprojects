org: kmpradeep
app: apiproj
service: aws-webscrapper-api-project
frameworkVersion: '3'

provider:
  name: aws
  runtime: nodejs14.x



functions:
  hello:
    handler: handler.hello
    events:
      - httpApi:
          path: /
          method: get
  email:
    handler: email.scrapper
    events:
      - httpApi:
          path: /
          method: post
  status:
    handler: email.status
    events:
      - httpApi:
          path: /status
          method: post
  emailaddress:
    handler: email.draftemail
    events:
      - httpApi:
          path: /draftemail
          method: post
  mySQSHandler:
    handler: worker.consumer
    events:
      - sqs: arn:aws:sqs:us-east-2:862836902890:scrapperjobqueue

custom:
  serverless-offline-sqs-external:
    apiVersion: '2012-11-05'
    endpoint: https://sqs.us-east-2.amazonaws.com/862836902890/scrapperjobqueue
    region: us-east-2
    accessKeyId: AKIA4RZIWJPVKW2465P6
    secretAccessKey: 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

plugins:
  - serverless-offline
  - serverless-offline-sqs-external
